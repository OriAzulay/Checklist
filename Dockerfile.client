FROM node:20-alpine

WORKDIR /app

COPY client/package*.json ./client/
RUN cd client && npm ci

COPY client ./client

EXPOSE 5173

ENV VITE_API_URL=http://localhost:3000/api

CMD ["npm", "--prefix", "client", "run", "dev", "--", "--host", "0.0.0.0"]
